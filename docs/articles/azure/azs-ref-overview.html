<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Understanding UKCloud for Microsoft Azure </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Understanding UKCloud for Microsoft Azure ">
    <meta name="generator" content="docfx 2.46.0.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container-fluid">
            <div class="navbar-margin-left">
              <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                  <span class="sr-only">Toggle navigation</span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                </button>
                
                <a class="navbar-brand" href="../../index.html">
                  <img id="logo" class="svg" src="../../styles/assets/logo.png" srcset="../../styles/assets/logo@2x.png 2x" width="300" height="49" alt="">
                </a>
              </div>
              <div class="collapse navbar-collapse" id="navbar">
                <form class="navbar-form navbar-right" role="search" id="search">
                  <div class="form-group">
                    <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                  </div>
                </form>
              </div>
            </div>
          </div>
        </nav>
        
        <div class="navbar-borderless subnav navbar navbar-default">
          <div class="navbar-right subnav-margin-right">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/UKCloud/documentation/blob/master/articles/azure/azs-ref-overview.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
          </div>
          <div class="hide-when-search subnav-margin-left" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container-fluid body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="container-fluid">
            <div class="row">
              <div class="col-lg-10">
                <article class="content wrap" id="_content" data-uid="">
                  
<h1 id="understanding-ukcloud-for-microsoft-azure">Understanding UKCloud for Microsoft Azure</h1>

<h2 id="introduction">Introduction</h2>
<p>UKCloud for Microsoft Azure provides you with new options to harness Microsoft Azure alongside other cloud platforms, including Oracle, VMware and OpenStack. This gives you the flexibility to accommodate diverse workloads within a low latency, accredited platform with native connectivity to non-cloud workloads in Crown Hosting and the networks that are vital to the public sector: from PSN to HSCN and RLI.</p>
<p>This article provides an introduction to UKCloud for Microsoft Azure and helps you get up and running.</p>
<h2 id="supported-features">Supported features</h2>
<p>UKCloud for Microsoft Azure supports the following Azure Stack Hub IaaS features:</p>
<h3 id="compute">Compute</h3>
<p>Virtual machines (VMs) provide the basic building block providing compute in Azure Stack Hub. For a list of available VM sizes, see: <a href="https://docs.microsoft.com/en-gb/azure/azure-stack/user/azure-stack-vm-sizes">https://docs.microsoft.com/en-gb/azure/azure-stack/user/azure-stack-vm-sizes</a>.</p>
<p>You can deploy VMs using the UKCloud Azure Stack Hub portal and other tooling. VMs have the following support:</p>
<ul>
<li><p>API</p>
</li>
<li><p>Azure Stack Hub Marketplace - Provides access to pre-created images that help speed up application delivery</p>
</li>
<li><p>Azure Resource Manager - Enables you to write templates to deploy, update and delete Azure Stack Hub resources in a single co-ordinated operation</p>
</li>
</ul>
<p><a href="https://docs.microsoft.com/en-gb/azure/azure-stack/user/azure-stack-vm-considerations">https://docs.microsoft.com/en-gb/azure/azure-stack/user/azure-stack-vm-considerations</a></p>
<h3 id="network">Network</h3>
<ul>
<li><p>Virtual networks - Azure Stack Hub enables you to configure virtual private clouds, create and manage your private address space within Azure; you can configure this via the UI, API and other tooling</p>
</li>
<li><p>Load balancers (IPv4 only) — You can deploy basic load balancers</p>
</li>
<li><p>VPN gateway — You can use the Azure Stack Hub VPN gateway to create site-to-site VPNs to remote infrastructure</p>
</li>
<li><p>Routing — You can configure basic custom defined routing on virtual networks; Vnet to Vnet peering is not yet supported</p>
</li>
</ul>
<p><a href="https://docs.microsoft.com/en-gb/azure/azure-stack/user/azure-stack-network-differences">https://docs.microsoft.com/en-gb/azure/azure-stack/user/azure-stack-network-differences</a></p>
<h3 id="storage">Storage</h3>
<table>
<thead>
<tr>
<th>Type of storage</th>
<th>Description</th>
<th>Notes vs Azure</th>
</tr>
</thead>
<tbody>
<tr>
<td>Azure Blob Storage (block)</td>
<td>Object storage; good for storing documents, videos, images and so on</td>
<td>Size of disk storage differs significantly, as well as naming standards like name length</td>
</tr>
<tr>
<td>Azure Blob Storage (page)</td>
<td>Used to support virtual machine disks; good for randomly accessed large files</td>
<td></td>
</tr>
<tr>
<td>Azure Blob Storage (append)</td>
<td>Used for log files</td>
<td> </td>
</tr>
<tr>
<td>Azure Queue Storage</td>
<td>Message queue as a service to provide asynchronous scale out micro-services, among other things</td>
<td> </td>
</tr>
<tr>
<td>Azure Table Storage</td>
<td>NoSQL database service; good for highly scalable, eventually consistent database support</td>
<td>Max sizes differ</td>
</tr>
</tbody>
</table>
<h3 id="advanced-features">Advanced features</h3>
<ul>
<li>Key Vault — Azure Stack Hub provides cryptographic secret storage for applications and services. These services can be consumed via both portal and API.</li>
</ul>
<p><a href="https://docs.microsoft.com/en-gb/azure/azure-stack/user/azure-stack-kv-intro">https://docs.microsoft.com/en-gb/azure/azure-stack/user/azure-stack-kv-intro</a></p>
<h2 id="design-considerations">Design considerations</h2>
<p>When designing your UKCloud for Microsoft Azure applications, consider the following:</p>
<h3 id="compute-1">Compute</h3>
<ul>
<li><p>Azure Stack Hub supports a subset of Azure VM extensions; UKCloud for Microsoft Azure currently supports the following:</p>
<ul>
<li><p>CustomScriptForLinux  v1.5.2.2 &amp; v1.5.2.0</p>
</li>
<li><p>OSPatchingForLinux  v2.3.0.1</p>
</li>
<li><p>VMAccessForLinux  v1.4.0.0</p>
</li>
<li><p>CustomScriptExtension  v1.9.1 &amp; v1.8</p>
</li>
<li><p>BGInfo  v2.1</p>
</li>
<li><p>JsonADDomainExtension  v1.3</p>
</li>
<li><p>VMAccessAgent  v2.0</p>
</li>
<li><p>SqlIaaSAgent  v1.2.30.0</p>
</li>
<li><p>DSC  v2.76.0.0 &amp; v2.19.0.0</p>
</li>
<li><p>DockerExtension  v1.1.1606092330</p>
</li>
<li><p>CustomScript  v2.0.6</p>
</li>
<li><p>IaaSAntimalware  v1.4.0.0</p>
</li>
<li><p>IaaSDiagnostics  v1.10.1.1</p>
</li>
<li><p>MicrosoftMonitoringAgent  v1.0.10900.0</p>
</li>
</ul>
<p>For an up-to-date list of the supported extensions, perform the following steps:</p>
<p>First, ensure that you've installed the relevant Azure PowerShell modules from the following link:</p>
<p><a href="azs-how-configure-powershell-users.html">Configure the Azure Stack Hub user's PowerShell environment</a></p>
<p>Then run the following commands:</p>
<pre><code class="lang-powershell">Add-AzureRmEnvironment -Name &quot;AzureStackUser&quot; -ArmEndpoint &quot;https://management.frn00006.azure.ukcloud.com&quot;
Connect-AzureRmAccount -EnvironmentName &quot;AzureStackUser&quot;
Get-AzureRmVMImagePublisher -Location &quot;frn00006&quot; | Get-AzureRmVMExtensionImageType | Get-AzureRmVMExtensionImage | `
  Select-Object -Property Type, Version | Format-Table -AutoSize
</code></pre>
</li>
<li><p>Use load balancers to make the best use of IP address quota</p>
</li>
<li><p>Azure Stack Hub API may be a couple of releases behind Azure</p>
</li>
<li><p>Single region and single state set (affects availability)</p>
</li>
<li><p>VM sets don't support auto-scale, so consider how to handle load</p>
</li>
<li><p>Check Azure Resource Manager (ARM) templates to see if they're compatible with Azure Stack Hub</p>
</li>
</ul>
<h3 id="storage-1">Storage</h3>
<p>Azure Stack Hub storage is all served from the same pool of disks and does not provide “limitless” storage, so you should consider the following:</p>
<ul>
<li><p>Use blob storage (object storage) to support the application; not for multiple petabytes of data storage</p>
</li>
<li><p>Put large volume data on UKCloud's Cloud Storage</p>
</li>
<li><p>Clean up backups to conserve storage</p>
</li>
<li><p>Consider use of temporary storage</p>
</li>
<li><p>There is a difference in maximum blob storage between Azure and Azure Stack Hub</p>
</li>
<li><p>No guarantees around IOPs</p>
</li>
<li><p>Use blob storage for queues to help deliver scalable micro-services</p>
</li>
</ul>
<h2 id="accessing-ukcloud-for-microsoft-azure">Accessing UKCloud for Microsoft Azure</h2>
<p>You can access UKCloud for Microsoft Azure from the following location:</p>
<p><a href="https://portal.frn00006.azure.ukcloud.com/">https://portal.frn00006.azure.ukcloud.com/</a></p>
<h2 id="further-information">Further information</h2>
<p>For more information about Azure Stack Hub, see the following Microsoft resources:</p>
<ul>
<li><p><a href="https://azure.microsoft.com/en-gb/get-started/"><em>Get Started with Azure</em></a></p>
</li>
<li><p><a href="azs-how-configure-powershell-users.html">Configure the Azure Stack Hub user's PowerShell environment</a></p>
</li>
</ul>
<p>For more information about UKCloud for Microsoft Azure, see:</p>
<ul>
<li><p><a href="azs-gs.html"><em>Getting Started Guide for UKCloud for Microsoft Azure</em></a></p>
</li>
<li><p><a href="azs-faq.html"><em>UKCloud for Microsoft Azure FAQs</em></a></p>
</li>
</ul>
<h2 id="related-videos">Related videos</h2>
<ul>
<li><a href="azs-vid-overview.html"><em>UKCloud Azure Stack Hub portal overview video</em></a></li>
</ul>
<h2 id="related-repositories">Related repositories</h2>
<ul>
<li><a href="https://github.com/UKCloud/AzureStack"><em>UKCloud Azure Stack Hub Repository</em></a></li>
</ul>
<h2 id="feedback">Feedback</h2>
<p>If you find an issue with this article, click <strong>Improve this Doc</strong> to suggest a change. If you have an idea for how we could improve any of our services, visit the <a href="https://community.ukcloud.com/ideas">Ideas</a> section of the <a href="https://community.ukcloud.com">UKCloud Community</a>.</p>


                  <div class="row">
                  </div>
                </article>
              </div>
              
              <div class="hidden-sm col-md-2" role="complementary">
                <div class="sideaffix">
                  <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                  <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
                  </nav>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right text-right">
              Generated by <strong>DocFX</strong><br>
              <a href="#top">Back to top</a>
            </span>
            <span>&copy <a href="https://ukcloud.com">UKCloud Ltd</a>, 2020. All Rights Reserved.<br><a href="https://ukcloud.com/legal">Privacy Policy. </a><a href="https://ukcloud.com/terms-and-conditions">Terms of Use. </a><a href="https://docs.ukcloud.com/articles/other/other-how-contribute-knowledge.html">Contribute. </a></span>
          </div>
        </div>
      </footer>
      
      <div id="cookie-cta" style="display: none;" aria-hidden="true">
        <div class="cookie-cta-inner container">
          <div class="cookie-cta-text">
            <p>
              The <strong>UKCloud Knowledge Centre</strong> uses cookies to ensure that we give you the best experience on our website. If you continue we assume that you consent to receive all cookies on this website.
            </p>
          </div>
      
          <div class="cookie-cta-action">
            <button class="cookie-cta-close button button--small">Accept</button>
          </div>
        </div>
      </div>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
    <script type="text/javascript" src="../../styles/highlight.js"></script>
    <!-- Enable Terraform syntax highlighting -->
    <script type="text/javascript" src="../../styles/terraform.js"></script>
    <script type="text/javascript">
      hljs.registerLanguage('terraform', window.hljsDefineTerraform);
      hljs.initHighlightingOnLoad();
    </script>
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-57433193-6"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'UA-57433193-6');
    </script>
  </body>
</html>
